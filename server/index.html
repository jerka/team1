<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('http://localhost:8080');

      var reference_id = null;

      // Called when client is connected to server
      socket.on('connect', function () {

        // Called when client receives message from server
        socket.on('message', function (data) {
          // Log to browser console
          console.log(data);
          
          $('#world').html($('#world').html() + data.type);
        });
      });
      
      function send_message () {

        var type = $('#type');
        var position = $('input:checked').val();

        // Send the message to the server
        socket.emit('message', {  type: type.val(), reference_id: reference_id, position: position });

        // Clear the input
        type.val('');

        return false;
      }

      $(document).ready(function() {
        $('#world div').on('click', function () {
          reference_id = $(this).attr('id');
        });
      });
    </script>
  </head>
  <body>
    <form onsubmit="return send_message();" action="">

      <input type="text" id="type" placeholder="Type" />
      <input type="radio" name="position" value="0" />
      <input type="radio" name="position" value="1" />
      <input type="radio" name="position" value="2" />
      <input type="radio" name="position" value="3" />
      <input type="submit" value="Send" />

    </form>

    <div id="world">
      <div id="1" style="border:2px solid red; width:100px; height:100px"></div>
    </div>
  </body>
</html>